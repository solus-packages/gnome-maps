diff --git a/meson.build b/meson.build
index 6b15e6e32fc8537def68ce7849ca9ec708b817fc..ab386febf836b4df7d2d8502f4f479ba56c4ce67 100644
--- a/meson.build
+++ b/meson.build
@@ -37,6 +37,7 @@ girepository = dependency('gobject-introspection-1.0', version: '>= 0.10.1')
 gtk3 = dependency('gtk+-3.0', version: '>= 3.22.0')
 geoclue2 = dependency('geoclue-2.0', version: '>= 0.12.99')
 handy = dependency('libhandy-1', version: '>= 1.5.0')
+gweather = dependency('gweather4', version: '>= 3.90.0')
 
 libmaps_deps = [
 	dependency('gee-0.8', version: '>= 0.16.0'),
diff --git a/org.gnome.Maps.json b/org.gnome.Maps.json
index d8c18db0ea142ffbb7dc3c813a30847fc4cbf42f..7f0b0fbcff35b5075640a8e925431542d39d59f5 100644
--- a/org.gnome.Maps.json
+++ b/org.gnome.Maps.json
@@ -104,15 +104,16 @@
         },
         {
             "name" : "libgweather",
-            "buildsystem" : "meson",
             "config-opts" : [
-                "--libdir=/app/lib"
+                "-Denable_vala=false",
+                "-Dgtk_doc=false"
             ],
+            "buildsystem" : "meson",
             "sources" : [
                 {
                     "type" : "git",
                     "url" : "https://gitlab.gnome.org/GNOME/libgweather.git",
-                    "tag" : "40.0"
+                    "branch" : "main"
                 }
             ]
         },
@@ -149,7 +150,8 @@
                 "-DENABLE_EXAMPLES=OFF",
                 "-DENABLE_VALA_BINDINGS=ON",
                 "-DENABLE_INTROSPECTION=ON",
-                "-DENABLE_CANBERRA=OFF"
+                "-DENABLE_CANBERRA=OFF",
+                "-DENABLE_WEATHER=OFF"
             ],
             "buildsystem" : "cmake-ninja",
             "sources" : [
diff --git a/src/main.js b/src/main.js
index e57e45fc2b006eea99c6da85295067274dd70c40..523f659b5cc1e4422fa0f6959aeb5cd0b3f0648b 100644
--- a/src/main.js
+++ b/src/main.js
@@ -36,7 +36,7 @@ pkg.require({ 'cairo': '1.0',
               'Gtk': '3.0',
               'GtkChamplain': '0.12',
               'GtkClutter': '1.0',
-              'GWeather': '3.0',
+              'GWeather': '4.0',
               'Handy': '1',
               'Rest': '0.7',
               'Soup': '2.4',
